# 依存ルール

## 許可される依存

- UI -> Application
- Application -> Core

## 禁止される依存

- UI -> Core（直接依存は禁止）
- Core -> Application / UI（逆方向依存は禁止）

## 型レベル依存

- UI -> Core の依存は「型定義のみ」の場合に限り許可
- 型依存はコンパイル時のみ意味を持ち、実行時ロジックやI/Oを含まない
- 型依存は最小限に抑える

## ルール違反が設計破綻につながる理由

- UI が Core に直接依存すると、UI の変更が Core に波及しやすくなる
- Core が外部のI/Oや表示に依存すると、正データ（語彙データ）の整合性が崩れる
- 依存方向の逸脱は、CLI/AI連携/Storage 変更時の影響範囲を不透明にする
